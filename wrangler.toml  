# Cloudflare Workers configuration for JioSaavnAPI

name = "jiosaavn-api"
main = "src/index.js"
compatibility_date = "2024-01-01"

# Configure the worker to handle larger response sizes
[limits]
cpu_ms = 30000

# Enable CORS for all origins
[[rules]]
type = "Text"
globs = ["**/*"]
fallthrough = true

# Environment variables (can be set in Cloudflare dashboard)
# [env.production]
# [env.staging]

# Custom domain configuration (uncomment and configure as needed)
# [env.production]
# routes = [
#   { pattern = "api.yourdomain.com/*", zone_name = "yourdomain.com" }
# ]

# KV Storage for caching (optional)
# [[kv_namespaces]]
# binding = "JIO_SAAVN_CACHE"
# id = "your-kv-namespace-id"

# Durable Objects for state management (optional)
# [[durable_objects]]
# binding = "RATE_LIMITER"
# class_name = "RateLimiter"

# Variable definitions
[vars]
API_VERSION = "1.0.0"
API_NAME = "JioSaavnAPI"

# Development environment
[env.development]
vars = { ENVIRONMENT = "development" }

# Production environment
[env.production]
vars = { ENVIRONMENT = "production" }